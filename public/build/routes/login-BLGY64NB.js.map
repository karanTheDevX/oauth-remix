{
  "version": 3,
  "sources": ["../../../app/routes/login.jsx"],
  "sourcesContent": ["import { json, redirect } from \"@remix-run/node\";\nimport { Form, Link, useLoaderData } from \"@remix-run/react\";\nimport { authenticator, isAuthenticated } from \"../utils/auth.server\";\n\nexport const loader = async ({ request }) => {\n  // If the user is already authenticated, redirect to the homepage\n  const user = await isAuthenticated(request);\n  if (user) {\n    return redirect(\"/\");\n  }\n\n  // Get the return URL from the search parameters\n  const url = new URL(request.url);\n  const redirectTo = url.searchParams.get(\"redirectTo\") || \"/\";\n\n  return json({ redirectTo });\n};\n\nexport const action = async ({ request }) => {\n  // Get the return URL from the form data\n  const formData = await request.formData();\n  const redirectTo = formData.get(\"redirectTo\") || \"/\";\n\n  // Authenticate with AuthAction\n  return authenticator.authenticate(\"authaction\", request, {\n    successRedirect: redirectTo,\n    failureRedirect: \"/login\",\n  });\n};\n\nexport default function Login() {\n  const { redirectTo } = useLoaderData();\n\n  return (\n    <div className=\"flex flex-col items-center justify-center\">\n      <div className=\"w-full max-w-md bg-white p-8 rounded-lg shadow-md\">\n        <h2 className=\"text-2xl font-bold mb-6 text-center\">Login</h2>\n\n        <Form method=\"post\" className=\"space-y-6\">\n          <input type=\"hidden\" name=\"redirectTo\" value={redirectTo} />\n\n          <div className=\"flex justify-center\">\n            <button\n              type=\"submit\"\n              className=\"w-full px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 transition\"\n            >\n              Login with AuthAction\n            </button>\n          </div>\n        </Form>\n\n        <div className=\"mt-6 text-center\">\n          <Link to=\"/\" className=\"text-blue-600 hover:underline\">\n            Back to Home\n          </Link>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],
  "mappings": ";;;;;;;;;;;;;;;AAAA,kBAA+B;AAE/B,kBAA+C;AAkCvC;AANO,SAAR,QAAyB;AAC9B,QAAM,EAAE,WAAW,IAAI,cAAc;AAErC,SACE,mDAAC,SAAI,WAAU,6CACb,6DAAC,SAAI,WAAU,qDACb;AAAA,uDAAC,QAAG,WAAU,uCAAsC,qBAApD;AAAA;AAAA;AAAA;AAAA,WAAyD;AAAA,IAEzD,mDAAC,QAAK,QAAO,QAAO,WAAU,aAC5B;AAAA,yDAAC,WAAM,MAAK,UAAS,MAAK,cAAa,OAAO,cAA9C;AAAA;AAAA;AAAA;AAAA,aAA0D;AAAA,MAE1D,mDAAC,SAAI,WAAU,uBACb;AAAA,QAAC;AAAA;AAAA,UACC,MAAK;AAAA,UACL,WAAU;AAAA,UACX;AAAA;AAAA,QAHD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAKA,KANF;AAAA;AAAA;AAAA;AAAA,aAOA;AAAA,SAVF;AAAA;AAAA;AAAA;AAAA,WAWA;AAAA,IAEA,mDAAC,SAAI,WAAU,oBACb,6DAAC,QAAK,IAAG,KAAI,WAAU,iCAAgC,4BAAvD;AAAA;AAAA;AAAA;AAAA,WAEA,KAHF;AAAA;AAAA;AAAA;AAAA,WAIA;AAAA,OApBF;AAAA;AAAA;AAAA;AAAA,SAqBA,KAtBF;AAAA;AAAA;AAAA;AAAA,SAuBA;AAEJ;",
  "names": []
}
